# Factory Method

## ë°°ê²½

íŒ©í† ë¦¬ ë©”ì†Œë“œëŠ” ìƒì„±ì  ë””ìì¸ íŒ¨í„´ ì¤‘ í•˜ë‚˜ë¡œì„œ, ë¶€ëª¨ í´ë˜ìŠ¤ì—ì„œ ê°ì²´ë¥¼ ìƒì„±í•˜ëŠ” ì¸í„°í˜ì´ìŠ¤ë¥¼ ì œê³µí•œë‹¤. ìì‹ í´ë˜ìŠ¤ë“¤ì€ ê°ì²´ë¥¼ ìƒì„±í•  ë•Œ í˜•ì„ ë³€í™˜í•  ìˆ˜ ìˆë‹¤.

## ğŸ’€ ë¬¸ì œ ì •ì˜

ë¬¼ë¥˜ ê´€ë¦¬ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë§Œë“ ë‹¤ê³  ìƒê°í•´ë³´ì. ì•±ì˜ ì²« ë²„ì „ì€ ì˜¤ì§ íŠ¸ëŸ­ ìš´ì†¡ì„ ë‹¤ë£¨ê¸° ë•Œë¬¸ì—, ì•±ì˜ ì½”ë“œëŠ” **Truck** í´ë˜ìŠ¤ ì†ì— ìˆë‹¤.

ì–¼ë§ˆ í›„, ì´ ì•±ì´ ìœ ëª…í•´ì ¸ì„œ í•´ìƒ ìš´ì†¡ íšŒì‚¬ë¡œë¶€í„° í•´ìƒ ìš´ì†¡ë„ ì§€ì›í•´ë‹¬ë¼ëŠ” ìš”ì²­ì´ ìŸì•„ì§€ê³  ìˆë‹¤.

![](https://images.velog.io/images/julie0005/post/70bd2b73-4a7e-432e-aad1-ffc4bf198993/image.png)

ì´ë¯¸ **Truck** í´ë˜ìŠ¤ì™€ ë§ì´ ì—®ì—¬ìˆëŠ” ì½”ë“œì— **Ships**ë¥¼ ì¶”ê°€í•˜ì—¬ ë³€ê²½í•˜ëŠ” ê²ƒì€ ì‰½ì§€ ì•Šì„ ê²ƒì´ë‹¤.

> í™•ì¥ì„±ì´ ë–¨ì–´ì§€ëŠ” ì½”ë“œì— ë¬¸ì œê°€ ìˆëŠ” ê²ƒì´ë‹¤.

## ğŸ˜Š ëŒ€ì•ˆ

ì´ ë•Œ, **íŒ©í† ë¦¬ ë©”ì†Œë“œ** ë””ìì¸ íŒ¨í„´ì€ newë¥¼ í†µí•´ ê°ì²´ë¥¼ ìƒì„±í•˜ëŠ” ë¶€ë¶„ì„ íŠ¹ë³„í•œ **íŒ©í† ë¦¬ ë©”ì†Œë“œ**ë¥¼ í˜¸ì¶œí•˜ëŠ” ê²ƒìœ¼ë¡œ ëŒ€ì²´í•  ê²ƒì„ ì œì•ˆí•œë‹¤. ì¦‰, íŒ©í† ë¦¬ ë©”ì†Œë“œ ì•ˆì—ì„œ newë¥¼ í†µí•´ ê°ì²´ê°€ ìƒì„±ë˜ëŠ” ê²ƒì´ë‹¤. íŒ©í† ë¦¬ ë©”ì†Œë“œë¥¼ í†µí•´ ìƒì„±ë˜ëŠ” ê°ì²´ë“¤ì€ productë¡œ ë¶ˆë¦°ë‹¤.

![](https://images.velog.io/images/julie0005/post/5fae4709-f364-4818-a884-438b7d186eb9/image.png)
![](https://images.velog.io/images/julie0005/post/0639fb57-46ed-4504-a53f-c0c539cb3cd3/image.png)

íš¨ê³¼ : íŒ©í† ë¦¬ ë©”ì†Œë“œ(createTransport)ë¥¼ í†µí•´ ìì‹ í´ë˜ìŠ¤ì—ì„œ ë§Œë“¤ì–´ì§€ëŠ” ê°ì²´ì˜ íƒ€ì…ì„ ë³€ê²½í•  ìˆ˜ ìˆë‹¤!

```java
Logistics l=new RoadLogistics(); or new SeaLogistics(); 
Transtport t=l.createTransport();
t.deliver()
```
* ì¡°ê±´ì— ë”°ë¼ í•´ìƒ ìš´ì†¡, íŠ¸ëŸ­ ìš´ì†¡ì„ ê²°ì •í•˜ê³ , í•˜ë‚˜ì˜ íŒ©í† ë¦¬ ë©”ì†Œë“œë¥¼ í†µí•´ ìƒí™©ì— ë§ëŠ” ê°ì²´ë¥¼ ìƒì„±í•œë‹¤.
* ìƒì„± ë¶€ë¶„ë§Œ ë¶„ë¦¬í•˜ì—¬ ì½”ë“œ ì¤‘ë³µ ì—†ì´ ê¸°ì¡´ deliver ë©”ì†Œë“œ í˜¸ì¶œ ë¶€ë¶„ì„ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ë©”ì¸ ë¡œì§ì€ í”ë“¤ë¦¬ì§€ ì•ŠìŒ.

![](https://images.velog.io/images/julie0005/post/a1417fd1-762b-40fb-a28a-67e187867d60/image.png)
 * ìš´ì†¡ìˆ˜ë‹¨ë§ˆë‹¤ ë‹¬ë¼ì§€ëŠ” deliver ë¶€ë¶„ì€ Transport ì¸í„°í˜ì´ìŠ¤ì—ì„œ deliver ë©”ì†Œë“œë¥¼ ì •ì˜í•˜ì—¬ ìì‹í´ë˜ìŠ¤ë“¤ì´ êµ¬í˜„í•˜ê²Œ í•¨.
 * íŒ©í† ë¦¬ ë©”ì†Œë“œë¥¼ í†µí•´ ë§Œë“¤ì–´ì§„ productë“¤ì€ ëª¨ë‘ ì¶”ìƒì²´ì¸ **Transport**ë¡œ ì·¨ê¸‰ë¨. ë”°ë¼ì„œ, êµ¬ìƒì²´ê°€ ë§ì´ ëŠ˜ì–´ë‚˜ë„ ì½”ë“œ ìƒìœ¼ë¡œëŠ” ë‹¬ë¼ì§€ëŠ” ê²ƒì´ ì—†ìŒ.
 
## êµ¬ì¡°
 ![](https://images.velog.io/images/julie0005/post/f52ed68f-8119-4df8-a816-e156573c4ec8/image.png)
 
 1. íŒ©í† ë¦¬ ë©”ì†Œë“œë¥¼ í†µí•´ ë§Œë“¤ì–´ì§€ëŠ” **Product** ë¶€ë¶„. íŒ©í† ë¦¬ë©”ì†Œë“œë¥¼ í†µí•´ ìƒì„±ëœ ëª¨ë“  ê°ì²´ë“¤(Concrete Productë“¤)ì—ê²Œ ì ìš©ë˜ëŠ” íŠ¹ì§•ì„ ê³ ë ¤í•˜ì—¬ Product ì¸í„°í˜ì´ìŠ¤ë¥¼ ì •ì˜í•¨.
 
 2. **Concrete Product**ë“¤ì€ Productì˜ ì¸í„°í˜ì´ìŠ¤ë¥¼ ê°ìì— ë§ê²Œ êµ¬í˜„í•¨.
 
 3. **Creator** í´ë˜ìŠ¤ì—ì„œëŠ” **Product** objectë¥¼ ìƒì„±í•˜ëŠ” íŒ©í† ë¦¬ ë©”ì†Œë“œë¥¼ ì„ ì–¸í•œë‹¤. ë©”ì†Œë“œì˜ ë°˜í™˜ íƒ€ì…ì´ productì™€ ë§¤ì¹˜ë˜ëŠ” ê²ƒì´ ì¤‘ìš”í•˜ë‹¤.
 
 - íŒ©í† ë¦¬ ë©”ì†Œë“œë¥¼ ì¶”ìƒí™”í•˜ì—¬ Creatorì˜ ìì‹í´ë˜ìŠ¤ë“¤ì´ ê°ìì˜ ë²„ì „ìœ¼ë¡œ ë©”ì†Œë“œë¥¼ êµ¬í˜„í•˜ë„ë¡ ê°•ì œí•˜ëŠ” ê²ƒë„ ê°€ëŠ¥í•˜ë‹¤. ì•„ë‹ˆë©´ base íŒ©í† ë¦¬ ë©”ì†Œë“œê°€ ë””í´íŠ¸ ë²„ì „ì„ ë¦¬í„´í•˜ëŠ” ê²ƒë„ í•˜ë‚˜ì˜ ë°©ë²•ì´ë‹¤.
 
 - **Creator** ì´ë¦„ì„ ë³´ê³  ì˜¤í•´í•˜ì§€ ë§ì•„ì•¼í•  ê²ƒì€, Productë¥¼ ìƒì„±í•˜ëŠ” ê²ƒì´ Creatorì˜ ì£¼ê¸°ëŠ¥ì´ ì•„ë‹ˆë¼ëŠ” ê²ƒì´ë‹¤. í†µìƒì ìœ¼ë¡œ, Creator í´ë˜ìŠ¤ëŠ” ì´ë¯¸ ê¸°ì¡´ Productì™€ ê´€ë ¨ëœ í•µì‹¬ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ê°€ì§€ê³  ìˆë‹¤. íŒ©í† ë¦¬ ë©”ì†Œë“œëŠ” ì´ ë¡œì§ì„ Concrete Productë¡œë¶€í„° ë–¼ì–´ë‚´ëŠ” ê²ƒì„ ë„ì™€ì¤€ë‹¤.
 
 4. **Concrete Creators**ëŠ” Creator í´ë˜ìŠ¤ì˜ base íŒ©í† ë¦¬ ë©”ì†Œë“œë¥¼ ìƒì†ë°›ì•„ ë‹¤ë¥¸ íƒ€ì…ì˜ productë¥¼ ë°˜í™˜í•œë‹¤.
 
 - ê¼­, íŒ©í† ë¦¬ ë©”ì†Œë“œë“¤ì´ ìƒˆë¡œìš´ ë²„ì „ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•´ë‚¼ í•„ìš”ëŠ” ì—†ë‹¤. ìºì‹œë‚˜, object pool ë“± ê¸°ì¡´ì— ì¡´ì¬í•˜ëŠ” ê°ì²´ë¥¼ ë°˜í™˜í•  ìˆ˜ë„ ìˆë‹¤.
 
## ì–¸ì œ ì‚¬ìš©í•˜ëŠ”ì§€?
 
 1. ë§¤ë²ˆ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ë‹¤ì‹œ ì§œëŠ” ê²ƒ ëŒ€ì‹  ê¸°ì¡´ì— ì¡´ì¬í•˜ëŠ” objectë“¤ì„ ì¬ì‚¬ìš©í•¨ìœ¼ë¡œì¨ ì‹œìŠ¤í…œ ë¦¬ì†ŒìŠ¤ë“¤ì„ ì•„ë¼ê³  ì‹¶ì„ ë•Œ
 
- ê¸°ì¡´ ê°ì²´ë¥¼ ì¬ì‚¬ìš©í•˜ê³  ì‹¶ì„ ë•Œ ê±°ì³ì•¼ í•˜ëŠ” ê³¼ì •
1. ìƒì„±ëœ ëª¨ë“  ê°ì²´ë“¤ì„ ì¶”ì í•˜ê³  ìˆëŠ” ì €ì¥ê³µê°„ ìƒì„±
2. ëˆ„ê°€ ê°ì²´ë¥¼ ìš”ì²­í–ˆì„ ë•Œ, í”„ë¡œê·¸ë¨ì€ poolì—ì„œ free objectë¥¼ ì°¾ìŒ.
3. return
4. ì—†ìœ¼ë©´ newë¥¼ í†µí•´ ìƒì„± or poolì— ë“±ë¡

-> í•´ë‹¹ ë¡œì§ì€ í´ë˜ìŠ¤ì˜ ìƒì„±ì ë¶€ë¶„ì— ë„£ê¸° ì í•©í•˜ë‚˜, ìƒì„±ìë“¤ì€ ë¬´ì¡°ê±´ new objectsë“¤ì„ return í•´ì•¼í•¨. ê¸°ì¡´ ì¡´ì¬í•˜ëŠ” ê°ì²´ë¥¼ ë°˜í™˜í•  ìˆ˜ ì—†ìŒ.
-> ë”°ë¼ì„œ, íŒ©í† ë¦¬ ë©”ì†Œë“œë¥¼ í†µí•´ ìƒì„±/ì¬ì‚¬ìš©ì„ ë‘˜ë‹¤ í•  ìˆ˜ ìˆìŒ.
 
 2. ì½”ë“œì™€ ì—°ê´€ì´ ê¹Šì€ ê°ì²´ì˜ ì •í™•í•œ íƒ€ì…ê³¼ ì—°ê´€ê´€ê³„, ì˜ì¡´ê´€ê³„ë¥¼ ì‚¬ì „ì— ëª¨ë¥´ëŠ” ê²½ìš°
 
  - íŒ©í† ë¦¬ ë©”ì†Œë“œëŠ” productë¥¼ ì‚¬ìš©í•˜ëŠ” ë¡œì§ê³¼ productë¥¼ ìƒì„±í•˜ëŠ” ë¡œì§ì„ ë¶„ë¦¬í•œë‹¤. ë”°ë¼ì„œ ê¸°ì¡´ì˜ ì½”ë“œì™€ ìƒê´€ì—†ì´ productë¥¼ í™•ì¥í•˜ëŠ”ë° ìœ ë¦¬í•˜ë‹¤.
 
 3. ë¼ì´ë¸ŒëŸ¬ë¦¬ ë˜ëŠ” í”„ë ˆì„ì›Œí¬ì˜ ì‚¬ìš©ìì—ê²Œ ë‚´ë¶€ êµ¬ì„±ìš”ì†Œë¥¼ í™•ì¥í•˜ëŠ” ë°©ë²•ì„ ì œê³µí•˜ê³  ì‹¶ì„ ë•Œ
 
## ì¥ë‹¨ì 
 
### 1. ì¥ì 
 
 * ìƒì„±ë¶€ë¶„ê³¼ concrete productê°„ì˜ ê°•í•œ ê²°í•©ì„ í”¼í•  ìˆ˜ ìˆë‹¤.
 * Single Responsibility Principle(SRP)ë¥¼ ì˜ ì§€í‚¨ë‹¤. ìƒì„±ë¶€ë¶„ì„ í•˜ë‚˜ì˜ ê³³ìœ¼ë¡œ ì˜®ê¹€ìœ¼ë¡œì¨ í•œ ë¶€ë¶„ì˜ ìˆ˜ì •ì´ ë‹¤ë¥¸ ë¶€ë¶„ì˜ ìˆ˜ì •ì— ì˜í–¥ì„ ë¯¸ì¹˜ëŠ” ì¼ì„ ì—†ë„ë¡ í•¨.
 * Open/Closed Principle(OCP). ê¸°ì¡´ì— ì¡´ì¬í•˜ëŠ” ì½”ë“œë¥¼ ê°ˆì•„ì—ì–´ì•¼ í•˜ëŠ” ì¼ ì—†ì´ ìƒˆë¡œìš´ íƒ€ì…ì˜ productë¥¼ ì ìš©í•  ìˆ˜ ìˆë‹¤. í™•ì¥ì— ê°•í•˜ë‹¤.
 
### 2. ë‹¨ì 
 
 * ì´ íŒ¨í„´ì„ êµ¬í˜„í•˜ê¸° ìœ„í•´ ë§ì€ ìì‹ í´ë˜ìŠ¤ë“¤ì´ ì¶”ê°€ë˜ì–´ì„œ ì½”ë“œê°€ ë” ë³µì¡í•´ì§ˆ ìˆ˜ ìˆë‹¤.
 
## ì˜ˆì‹œ

**Shape.java**
```java
public interface Shape{
	void draw();
}
```

**Circle.java**
```java
public class Circle implements Shape{
	@Override
    public void draw(){
    	System.out.println("Inside Circle::draw() method.");
    }
}
```

**Rectangle.java**
```java
public class Circle implements Shape{
	@Override
    public void draw(){
    	System.out.println("Inside Rectangle::draw() method.");
    }
}
```

**Square.java**
```java
public class Circle implements Shape{
	@Override
    public void draw(){
    	System.out.println("Inside Square::draw() method.");
    }
}
```

**ShapeFactory.java**
```java
public class ShapeFactory{
	public Shape getShape(String shapeType){
    	if(shapeType==null){
        	return null;
        }
        if(shapeType.equalsIgnoreCase("CIRCLE")){
        	return new Circle();
        } else if(shapeType.equalsIgnoreCase("RECTANGLE")){
        	return new Rectangle();
        } else if(shapeType.equalsIgnoreCase("SQUARE")){
        	return new Square();
        }
        return null;
    }
}
```
 
**FactoryPatternDemo.java**
```java
public class FactoryPatternDemo{
	public static void main(String[] args){
    	ShapeFactory shapeFactory=new ShapeFactory();
        
        Shape shape1=shapeFactory.getShape("CIRCLE");
        shape1.draw();
        
        Shape shape2=shapeFactory.getShape("RECTANGLE");
        shape1.draw();
        
        Shape shape3=shapeFactory.getShape("SQUAREa");
        shape1.draw();
        
    }
}
```


## ì°¸ê³ 
[Refactoring Guru](https://refactoring.guru/design-patterns/factory-method)
